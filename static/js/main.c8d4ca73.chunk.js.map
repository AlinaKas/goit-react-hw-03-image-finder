{"version":3,"sources":["App.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/imagesApi.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","components/Container/Container.js","images/default.png","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","onChangeInput","e","setState","currentTarget","value","toLowerCase","onSubmit","preventDefault","trim","props","toast","info","theme","className","s","searchbar","form","this","type","button","onClick","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","src","srcBigImg","item","image","ImageGallery","images","list","map","id","tags","webformatURL","largeImageURL","prototype","PropTypes","arrayOf","shape","number","isRequired","func","api","fetchImages","page","url","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","console","log","createPortal","overlay","modal","modalImg","Button","loadImages","btn","LoaderSpinner","loader","color","height","width","Container","children","container","App","isLoading","showModal","error","modalImage","handleFormSubmit","onLoadMore","prevState","scrollPage","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","openModal","dataset","prevProps","prevSearch","nextSearch","prevPage","nextPage","imagesAPI","hits","length","status","catch","finally","Loader","defaultImage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c8d4ca73.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"error\":\"App_error__1umzI\",\"defaultImage\":\"App_defaultImage__3uWI8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\",\"modalImg\":\"Modal_modalImg__1ybZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__3mqUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n// import { BiSearchAlt2 } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  onChangeInput = e => {\n    this.setState({\n      searchQuery: e.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      toast.info('Enter your request', {\n        theme: 'dark',\n      });\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <>\n        <header className={s.searchbar}>\n          <form className={s.form} onSubmit={this.onSubmit}>\n            <button type=\"submit\" className={s.button} onClick={this.onSubmit}>\n              {/* <span className={s.label}>Search</span> */}\n            </button>\n\n            <input\n              className={s.input}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.searchQuery}\n              onChange={this.onChangeInput}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ alt, src, onClick, srcBigImg }) {\n  return (\n    <li className={s.item} onClick={onClick}>\n      <img src={src} alt={alt} data-modal={srcBigImg} className={s.image} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  // id: PropTypes.number.isRequired,\n  srcBigImg: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n// import imagesAPI from '../../services/imagesApi';\n// import Modal from '../Modal';\n// import Button from '../Button';\n// import LoaderSpinner from '../Loader';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.list}>\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          alt={tags}\n          src={webformatURL}\n          srcBigImg={largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.prototype = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n\n// export default class ImageGallery extends Component {\n//   state = {\n//     images: [],\n//     page: 1,\n//     status: 'idle',\n//     showModal: false,\n//     error: null,\n//     modalImage: '',\n//     alt: '',\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevSearch = prevProps.imageSearch;\n//     const nextSearch = this.props.imageSearch;\n//     const prevPage = prevState.page;\n//     const nextPage = this.state.page;\n\n//     if (prevSearch !== nextSearch || prevPage !== nextPage) {\n//       this.setState({ status: 'pending' });\n\n//       imagesAPI\n//         .fetchImages(nextSearch, nextPage)\n//         .then(({ hits }) => {\n//           console.log({ hits });\n\n//           if (hits.length === 0) {\n//             return this.setState({\n//               status: 'rejected',\n//               error: `No images for your request ${nextSearch}`,\n//             });\n//           }\n//           // console.log(hits);\n//           this.setState(prevState => ({\n//             images: [...prevState.images, ...hits],\n//             status: 'resolved',\n//           }));\n//         })\n//         .catch(error => this.setState({ error, status: 'rejected' }));\n//     }\n//   }\n\n//   // Загрузка дальнейших картинок\n\n//   onLoadMore = () => {\n//     this.setState(prevState => ({\n//       page: prevState.page + 1,\n//     }));\n//     this.scrollPage();\n//   };\n\n//   //Скролл при подгрузке картинок\n//   scrollPage = () => {\n//     setTimeout(() => {\n//       window.scrollTo({\n//         top: document.documentElement.scrollHeight,\n//         behavior: 'smooth',\n//       });\n//     }, 1000);\n//   };\n\n//   //Модалка\n//   toggleModal = () => {\n//     this.setState(({ showModal }) => ({ showModal: !showModal }));\n//   };\n\n//   openModal = e => {\n//     this.setState(() => ({\n//       modalImage: e.target.dataset.modal,\n//       alt: e.target.alt,\n//     }));\n//     this.toggleModal();\n//   };\n\n//   // РЕНДЕР СТРАНИЦЫ\n\n//   render() {\n//     const { images, error, status, showModal, modalImage, alt } = this.state;\n\n//     if (status === 'idle') {\n//       return '';\n//     }\n\n//     if (status === 'pending') {\n//       return <LoaderSpinner />;\n//     }\n\n//     if (status === 'rejected') {\n//       return <p className={s.error}>{error}</p>;\n//     }\n\n//     if (status === 'resolved') {\n//       return (\n//         <>\n//           <ul className={s.list}>\n//             {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n//               return (\n//                 <ImageGalleryItem\n//                   key={id}\n//                   alt={tags}\n//                   src={webformatURL}\n//                   srcBigImg={largeImageURL}\n//                   onClick={this.openModal}\n//                 />\n//               );\n//             })}\n//           </ul>\n//           <Button loadImages={this.onLoadMore} />\n//           {showModal && (\n//             <Modal onClose={this.toggleModal} src={modalImage} alt={alt} />\n//           )}\n//         </>\n//       );\n//     }\n//   }\n// }\n","function fetchImages(searchQuery, page) {\n  const API_KEY = '23098575-38c072e060e8821b5779b85db';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`No images for your request ${searchQuery}`),\n    );\n  });\n}\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n\n// async componentDidMount() {\n//     const API_KEY = '23098575-38c072e060e8821b5779b85db';\n//     // const BASE_URL = 'https://pixabay.com/api/'\n//     fetch(\n//       `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n//     ).then(response =>\n//       response.json().then(searchQuery => this.setState(searchQuery)),\n//     );\n//   }\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    // console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    // console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      //   console.log('Нажали ESC, нужно закрыть модалку');\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    // console.log('Кликнули в бекдроп');\n    // console.log('currentTarget: ', event.currentTarget);\n    // console.log('target: ', event.target);\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    console.log(this.props);\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          {<img className={s.modalImg} src={src} alt={alt} />}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React from 'react';\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadImages }) {\n  return (\n    <button type=\"button\" className={s.btn} onClick={loadImages}>\n      Load more...\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nclass LoaderSpinner extends Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Oval\"\n        color=\"#00BFFF\"\n        height={120}\n        width={120}\n      />\n    );\n  }\n}\n\nexport default LoaderSpinner;\n","import React from 'react';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nexport default Container;\n","export default __webpack_public_path__ + \"static/media/default.6ddcc1dc.png\";","import s from './App.module.css';\nimport React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesAPI from './services/imagesApi';\n\nimport Modal from './components/Modal';\nimport Button from './components/Button';\n\nimport LoaderSpinner from './components/Loader';\nimport Container from './components/Container';\nimport defaultImage from './images/default.png';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    // status: 'idle',\n    showModal: false,\n    error: null,\n    modalImage: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      // this.setState({ status: 'pending' });\n      this.setState({ isLoading: true });\n\n      imagesAPI\n        .fetchImages(nextSearch, nextPage)\n        .then(({ hits }) => {\n          // console.log({ hits });\n\n          if (hits.length === 0) {\n            return this.setState({\n              status: 'rejected',\n              error: `No images for your request ${nextSearch}`,\n            });\n          }\n          this.setState(({ images, page }) => ({\n            images: [...images, ...hits],\n            page: page,\n            status: 'resolved',\n          }));\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  }\n\n  // Сабмит формы и очистка\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery, images: [], page: 1, error: null });\n  };\n\n  // Загрузка дальнейших картинок\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n\n    this.scrollPage();\n  };\n\n  //Скролл при подгрузке картинок\n  scrollPage = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  //Модалка\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = e => {\n    this.setState(() => ({\n      modalImage: e.target.dataset.modal,\n      alt: e.target.alt,\n    }));\n    this.toggleModal();\n  };\n\n  // РЕНДЕР СТРАНИЦЫ\n\n  render() {\n    const { images, error, isLoading, modalImage, alt, showModal } = this.state;\n    return (\n      <Container>\n        <div className={s.App}>\n          <Searchbar onSubmit={this.handleFormSubmit} />\n          {isLoading && <LoaderSpinner />}\n          {images.length > 0 && !error && (\n            <>\n              <ImageGallery onClick={this.openModal} images={images} />\n              <Button loadImages={this.onLoadMore} />\n            </>\n          )}\n          {showModal && (\n            <Modal onClose={this.toggleModal} src={modalImage} alt={alt} />\n          )}\n          {error && <p className={s.error}>{error}</p>}\n          {error && (\n            <div>\n              <img src={defaultImage} alt={error} className={s.defaultImage} />\n            </div>\n          )}\n          <ToastContainer autoClose={3000} />\n        </div>\n      </Container>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"button-label\":\"Searchbar_button-label__14f0Y\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}