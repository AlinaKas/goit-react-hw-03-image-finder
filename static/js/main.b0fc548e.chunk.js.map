{"version":3,"sources":["App.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/imagesApi.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","components/Container/Container.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","onChangeInput","e","setState","currentTarget","value","toLowerCase","onSubmit","preventDefault","trim","props","toast","info","theme","className","s","searchbar","form","this","type","button","onClick","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","alt","src","srcBigImg","item","image","ImageGallery","images","list","map","id","tags","webformatURL","largeImageURL","api","fetchImages","page","url","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","console","log","createPortal","overlay","modal","modalImg","Button","loadImages","btn","LoaderSpinner","loader","color","height","width","Container","children","container","App","status","showModal","error","modalImage","handleFormSubmit","onLoadMore","prevState","scrollPage","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","openModal","dataset","prevProps","prevSearch","nextSearch","prevPage","nextPage","imagesAPI","hits","length","catch","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b0fc548e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"error\":\"App_error__1umzI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\",\"modalImg\":\"Modal_modalImg__1ybZJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__3mqUc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__3xaJM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n// import { BiSearchAlt2 } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  onChangeInput = e => {\n    this.setState({\n      searchQuery: e.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      toast.info('Enter your request', {\n        theme: 'dark',\n      });\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <>\n        <header className={s.searchbar}>\n          <form className={s.form} onSubmit={this.onSubmit}>\n            <button type=\"submit\" className={s.button} onClick={this.onSubmit}>\n              {/* <span className={s.label}>Search</span> */}\n            </button>\n\n            <input\n              className={s.input}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.searchQuery}\n              onChange={this.onChangeInput}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ alt, src, onClick, srcBigImg }) {\n  return (\n    <li className={s.item} onClick={onClick}>\n      <img src={src} alt={alt} data-modal={srcBigImg} className={s.image} />\n    </li>\n  );\n}\n\n// ImageGalleryItem.propTypes = {\n//   src: PropTypes.string.isRequired,\n//   alt: PropTypes.string.isRequired,\n//   id: PropTypes.number.isRequired,\n//   onClick: PropTypes.func.isRequired,\n// };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n// import imagesAPI from '../../services/imagesApi';\n\n// import Modal from '../Modal';\n// import Button from '../Button';\n\n// import LoaderSpinner from '../Loader';\n\n// export default class ImageGallery extends Component {\n//   state = {\n//     images: [],\n//     page: 1,\n//     status: 'idle',\n//     showModal: false,\n//     error: null,\n//     modalImage: '',\n//     alt: '',\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevSearch = prevProps.imageSearch;\n//     const nextSearch = this.props.imageSearch;\n//     const prevPage = prevState.page;\n//     const nextPage = this.state.page;\n\n//     if (prevSearch !== nextSearch || prevPage !== nextPage) {\n//       this.setState({ status: 'pending' });\n\n//       imagesAPI\n//         .fetchImages(nextSearch, nextPage)\n//         .then(({ hits }) => {\n//           console.log({ hits });\n\n//           if (hits.length === 0) {\n//             return this.setState({\n//               status: 'rejected',\n//               error: `No images for your request ${nextSearch}`,\n//             });\n//           }\n//           // console.log(hits);\n//           this.setState(prevState => ({\n//             images: [...prevState.images, ...hits],\n//             status: 'resolved',\n//           }));\n//         })\n//         .catch(error => this.setState({ error, status: 'rejected' }));\n//     }\n//   }\n\n//   // // Сабмит формы и очистка\n//   // handleFormSubmit = searchQuery => {\n//   //   this.setState({ searchQuery, images: [], page: 1, error: null });\n//   // };\n\n//   // Загрузка дальнейших картинок\n\n//   onLoadMore = () => {\n//     this.setState(prevState => ({\n//       page: prevState.page + 1,\n//     }));\n//     this.scrollPage();\n//   };\n\n//   //Скролл при подгрузке картинок\n//   scrollPage = () => {\n//     setTimeout(() => {\n//       window.scrollTo({\n//         top: document.documentElement.scrollHeight,\n//         behavior: 'smooth',\n//       });\n//     }, 1000);\n//   };\n\n//   //Модалка\n//   toggleModal = () => {\n//     this.setState(({ showModal }) => ({ showModal: !showModal }));\n//   };\n\n//   openModal = e => {\n//     this.setState(() => ({\n//       modalImage: e.target.dataset.modal,\n//       alt: e.target.alt,\n//     }));\n//     this.toggleModal();\n//   };\n\n//   // РЕНДЕР СТРАНИЦЫ\n\n//   render() {\n//     const { images, error, status, showModal, modalImage, alt } = this.state;\n\n//     if (status === 'idle') {\n//       return '';\n//     }\n\n//     if (status === 'pending') {\n//       return <LoaderSpinner />;\n//     }\n\n//     if (status === 'rejected') {\n//       return <p className={s.error}>{error}</p>;\n//     }\n\n//     if (status === 'resolved') {\n//       return (\n//         <>\n//           <ul className={s.list}>\n//             {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n//               return (\n//                 <ImageGalleryItem\n//                   key={id}\n//                   alt={tags}\n//                   src={webformatURL}\n//                   srcBigImg={largeImageURL}\n//                   onClick={this.openModal}\n//                 />\n//               );\n//             })}\n//           </ul>\n//           <Button loadImages={this.onLoadMore} />\n//           {showModal && (\n//             <Modal onClose={this.toggleModal} src={modalImage} alt={alt} />\n//           )}\n//         </>\n//       );\n//     }\n//   }\n// }\n\n// ImageGallery.prototype = {\n//   images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n//   onClick: PropTypes.func,\n// };\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.list}>\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n        return (\n          <>\n            <ImageGalleryItem\n              key={id}\n              alt={tags}\n              src={webformatURL}\n              srcBigImg={largeImageURL}\n              onClick={onClick}\n            />\n          </>\n        );\n      })}\n    </ul>\n  );\n}\n\n// ImageGallery.prototype = {\n//   images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n//   onClick: PropTypes.func,\n// };\n\n// export default ImageGallery;\n\n// import imagesAPI from '../../services/imagesApi';\n// import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\n// import Loader from 'react-loader-spinner';\n// import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\n// class ImageGallery extends Component {\n//   state = {\n//     images: [],\n\n//     status: 'idle',\n//     page: 1,\n//     showModal: false,\n//     error: null,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevSearch = prevProps.imageSearch;\n//     const nextSearch = this.props.imageSearch;\n//     const prevPage = prevState.page;\n//     const nextPage = this.state.page;\n\n//     if (prevSearch !== nextSearch || prevPage !== nextPage) {\n//       this.setState({ status: 'pending' });\n\n//       imagesAPI\n//         .fetchImages(nextSearch, nextPage)\n//         .then(({ hits }) => {\n//           console.log({ hits });\n//           if (hits.length === 0) {\n//             this.setState({ status: 'rejected' });\n//           } else {\n//             // console.log(hits);\n//             this.setState(({ images, page }) => ({\n//               images: [...images, ...hits],\n//               page: page,\n//               status: 'resolved',\n//               //   searchQuery: nextSearch,\n//             }));\n//           }\n//         })\n//         .catch(error => this.setState({ error, status: 'rejected' }));\n//     }\n//   }\n\n//   onLoadMore = () => {\n//     this.setState(prevState => ({\n//       page: prevState.page + 1,\n//     }));\n//     this.scrolling();\n//   };\n\n//   scrolling = () => {\n//     setTimeout(() => {\n//       window.scrollTo({\n//         top: document.documentElement.scrollHeight,\n//         behavior: 'smooth',\n//       });\n//     }, 1000);\n//   };\n\n//   render() {\n//     const { images, error, status } = this.state;\n\n//     if (status === 'idle') {\n//       return '';\n//     }\n//     if (status === 'pending') {\n//       return (\n//         <Loader\n//           className=\"s.loader\"\n//           type=\"Oval\"\n//           color=\"#00BFFF\"\n//           height={120}\n//           width={120}\n//         />\n//       );\n//     }\n\n//     if (status === 'rejected') {\n//       return <p>{error.message}</p>;\n//     }\n\n//     if (status === 'resolved') {\n//       return (\n//         <>\n//           <ul className={s.list}>\n//             {images.map(({ id, tags, webformatURL, largeImageURL }) => {\n//               return (\n//                 <ImageGalleryItem\n//                   key={id}\n//                   id={id}\n//                   alt={tags}\n//                   src={webformatURL}\n//                   // dataLargeImg={largeImageURL}\n//                   // openModal={openModal}\n//                 />\n//               );\n//             })}\n//           </ul>\n//           <Button loadImages={this.onLoadMore} />\n//         </>\n//       );\n//     }\n//   }\n// }\n\n// export default ImageGallery;\n","function fetchImages(searchQuery, page) {\n  const API_KEY = '23098575-38c072e060e8821b5779b85db';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`No images for your request ${searchQuery}`),\n    );\n  });\n}\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n\n// async componentDidMount() {\n//     const API_KEY = '23098575-38c072e060e8821b5779b85db';\n//     // const BASE_URL = 'https://pixabay.com/api/'\n//     fetch(\n//       `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n//     ).then(response =>\n//       response.json().then(searchQuery => this.setState(searchQuery)),\n//     );\n//   }\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    // console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    // console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      //   console.log('Нажали ESC, нужно закрыть модалку');\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    // console.log('Кликнули в бекдроп');\n    // console.log('currentTarget: ', event.currentTarget);\n    // console.log('target: ', event.target);\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    console.log(this.props);\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          {<img className={s.modalImg} src={src} alt={alt} />}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","// import React from 'react';\n// import PropTypes from 'prop-types';\n// import s from './Button.module.css';\n\n// const Button = ({ children, onClick, ...allyProps }) => (\n//     <button type=\"button\" className={s.btn} onClick={onClick} {...allyProps}>\n//     {children}\n//   </button>\n// );\n\n// Button.defaultProps = {\n//   onClick: () => null,\n//   children: null,\n// };\n\n// Button.propTypes = {\n//   onClick: PropTypes.func,\n//   children: PropTypes.node,\n//   'aria-label': PropTypes.string.isRequired,\n// };\n\n// export default Button;\n\nimport React from 'react';\nimport s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ loadImages }) {\n  return (\n    <button type=\"button\" className={s.btn} onClick={loadImages}>\n      Load more...\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nclass LoaderSpinner extends Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Oval\"\n        color=\"#00BFFF\"\n        height={120}\n        width={120}\n      />\n    );\n  }\n}\n\nexport default LoaderSpinner;\n","import React from 'react';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nexport default Container;\n","import s from './App.module.css';\nimport React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imagesAPI from './services/imagesApi';\n\nimport Modal from './components/Modal';\nimport Button from './components/Button';\n\nimport LoaderSpinner from './components/Loader';\nimport Container from './components/Container';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    status: 'idle',\n    showModal: false,\n    error: null,\n    modalImage: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      this.setState({ status: 'pending' });\n\n      imagesAPI\n        .fetchImages(nextSearch, nextPage)\n        .then(({ hits }) => {\n          console.log({ hits });\n\n          if (hits.length === 0) {\n            return this.setState({\n              status: 'rejected',\n              error: `No images for your request ${nextSearch}`,\n            });\n          }\n\n          // console.log(hits);\n          this.setState(({ images, page }) => ({\n            images: [...images, ...hits],\n            page: page,\n            status: 'resolved',\n          }));\n        })\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n\n  // Сабмит формы и очистка\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery, images: [], page: 1, error: null });\n  };\n\n  // Загрузка дальнейших картинок\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.scrollPage();\n  };\n\n  //Скролл при подгрузке картинок\n  scrollPage = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  //Модалка\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = e => {\n    this.setState(() => ({\n      modalImage: e.target.dataset.modal,\n      alt: e.target.alt,\n    }));\n    this.toggleModal();\n  };\n\n  // РЕНДЕР СТРАНИЦЫ\n\n  render() {\n    const { images, error, status, modalImage, alt, showModal } = this.state;\n\n    if (status === 'idle') {\n      return <Searchbar onSubmit={this.handleFormSubmit} />;\n    }\n\n    if (status === 'pending') {\n      return <LoaderSpinner />;\n    }\n\n    if (status === 'rejected') {\n      return (\n        <>\n          <Searchbar onSubmit={this.handleFormSubmit} />;\n          <p className={s.error}>{error}</p>\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <Container>\n          <div className={s.App}>\n            <Searchbar onSubmit={this.handleFormSubmit} />\n            {images.length > 0 && !error && (\n              <>\n                <ImageGallery onClick={this.openModal} images={images} />\n                <Button loadImages={this.onLoadMore} />\n              </>\n            )}\n            {showModal && (\n              <Modal onClose={this.toggleModal} src={modalImage} alt={alt} />\n            )}\n            {error && <p className={s.error}>{error}</p>}\n            <ToastContainer autoClose={3000} />\n          </div>\n        </Container>\n      );\n    }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"button-label\":\"Searchbar_button-label__14f0Y\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}